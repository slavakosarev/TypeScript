import { Place } from "../../domain/place.js";
import { FlatRentSdk } from "../../../flat-rent-sdk.js";
export class FlatrentProvider {
    search(query) {
        return new Promise((resolve, reject) => {
            FlatrentProvider.sdk.search(query)
                .then((response) => {
                resolve(this.convertFlatListResponse(response));
            })
                .catch((err) => {
                throw new Error(err);
            });
        });
    }
    convertFlatListResponse(response) {
        return response.map((item) => {
            return this.convertFlatResponse(item);
        });
    }
    convertFlatResponse(item) {
        return new Place(FlatrentProvider.provider, item.id, item.photos[0], item.title, item.details, 0, item.totalPrice, item.bookedDates, item.coordinates);
    }
}
FlatrentProvider.provider = 'flatrent';
// private static apiUrl = 'http://localhost/3040'
FlatrentProvider.sdk = new FlatRentSdk();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmxhdHJlbnQtcHJvdmlkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvc3RvcmUvcHJvdmlkZXJzL2ZsYXRyZW50L2ZsYXRyZW50LXByb3ZpZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUM5QyxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFFeEQsTUFBTSxPQUFPLGdCQUFnQjtJQU1wQixNQUFNLENBQUMsS0FBbUI7UUFFL0IsT0FBTyxJQUFJLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsRUFBRTtZQUNyQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztpQkFDL0IsSUFBSSxDQUFDLENBQUMsUUFBZ0IsRUFBRSxFQUFFO2dCQUV6QixPQUFPLENBQUMsSUFBSSxDQUFDLHVCQUF1QixDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDbEQsQ0FBQyxDQUFDO2lCQUNELEtBQUssQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFO2dCQUNiLE1BQU0sSUFBSSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUE7WUFDdEIsQ0FBQyxDQUFDLENBQUE7UUFDTixDQUFDLENBQUMsQ0FBQTtJQUVKLENBQUM7SUFFTyx1QkFBdUIsQ0FBQyxRQUFnQjtRQUM5QyxPQUFPLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtZQUMzQixPQUFPLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUN2QyxDQUFDLENBQUMsQ0FBQTtJQUNKLENBQUM7SUFFTyxtQkFBbUIsQ0FBQyxJQUFVO1FBQ3BDLE9BQU8sSUFBSSxLQUFLLENBQ2QsZ0JBQWdCLENBQUMsUUFBUSxFQUN6QixJQUFJLENBQUMsRUFBRSxFQUNQLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQ2QsSUFBSSxDQUFDLEtBQUssRUFDVixJQUFJLENBQUMsT0FBTyxFQUNaLENBQUMsRUFDRCxJQUFJLENBQUMsVUFBVSxFQUNmLElBQUksQ0FBQyxXQUFXLEVBQ2hCLElBQUksQ0FBQyxXQUFXLENBQ2pCLENBQUE7SUFDSCxDQUFDOztBQXJDYSx5QkFBUSxHQUFHLFVBQVUsQ0FBQTtBQUNuQyxrREFBa0Q7QUFDbkMsb0JBQUcsR0FBRyxJQUFJLFdBQVcsRUFBRSxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tIFwiLi4vLi4vZG9tYWluL3Byb3ZpZGVyLmpzXCI7XG5pbXBvcnQgeyBTZWFyY2hGaWx0ZXIgfSBmcm9tIFwiLi4vLi4vZG9tYWluL3NlYXJjaC1maWx0ZXIuanNcIjtcbmltcG9ydCB7IEZsYXQgfSBmcm9tIFwiLi9yZXNwb25zZS5qc1wiO1xuaW1wb3J0IHsgUGxhY2UgfSBmcm9tIFwiLi4vLi4vZG9tYWluL3BsYWNlLmpzXCI7XG5pbXBvcnQgeyBGbGF0UmVudFNkayB9IGZyb20gXCIuLi8uLi8uLi9mbGF0LXJlbnQtc2RrLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBGbGF0cmVudFByb3ZpZGVyIGltcGxlbWVudHMgUHJvdmlkZXIge1xuXG4gIHB1YmxpYyBzdGF0aWMgcHJvdmlkZXIgPSAnZmxhdHJlbnQnXG4gIC8vIHByaXZhdGUgc3RhdGljIGFwaVVybCA9ICdodHRwOi8vbG9jYWxob3N0LzMwNDAnXG4gIHByaXZhdGUgc3RhdGljIHNkayA9IG5ldyBGbGF0UmVudFNkaygpXG5cbiAgcHVibGljIHNlYXJjaChxdWVyeTogU2VhcmNoRmlsdGVyKTogUHJvbWlzZTxQbGFjZVtdPiB7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgRmxhdHJlbnRQcm92aWRlci5zZGsuc2VhcmNoKHF1ZXJ5KVxuICAgICAgICAudGhlbigocmVzcG9uc2U6IEZsYXRbXSkgPT4ge1xuXG4gICAgICAgICAgcmVzb2x2ZSh0aGlzLmNvbnZlcnRGbGF0TGlzdFJlc3BvbnNlKHJlc3BvbnNlKSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycilcbiAgICAgICAgfSlcbiAgICB9KVxuXG4gIH1cblxuICBwcml2YXRlIGNvbnZlcnRGbGF0TGlzdFJlc3BvbnNlKHJlc3BvbnNlOiBGbGF0W10pOiBQbGFjZVtdIHtcbiAgICByZXR1cm4gcmVzcG9uc2UubWFwKChpdGVtKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5jb252ZXJ0RmxhdFJlc3BvbnNlKGl0ZW0pXG4gICAgfSlcbiAgfVxuXG4gIHByaXZhdGUgY29udmVydEZsYXRSZXNwb25zZShpdGVtOiBGbGF0KTogUGxhY2Uge1xuICAgIHJldHVybiBuZXcgUGxhY2UoXG4gICAgICBGbGF0cmVudFByb3ZpZGVyLnByb3ZpZGVyLFxuICAgICAgaXRlbS5pZCxcbiAgICAgIGl0ZW0ucGhvdG9zWzBdLFxuICAgICAgaXRlbS50aXRsZSxcbiAgICAgIGl0ZW0uZGV0YWlscyxcbiAgICAgIDAsXG4gICAgICBpdGVtLnRvdGFsUHJpY2UsXG4gICAgICBpdGVtLmJvb2tlZERhdGVzLFxuICAgICAgaXRlbS5jb29yZGluYXRlcyxcbiAgICApXG4gIH1cblxufVxuIl19